# MyNote:
在 C# 中，字符串插值（String Interpolation）是从 C# 6.0 开始引入的特性，它允许开发者通过更简洁直观的语法将表达式直接嵌入到字符串中。以下是核心要点：

---

#### **基本语法**
使用 `$` 符号作为字符串前缀，用 `{ }` 包裹表达式：
```csharp
string name = "Alice";
int age = 30;
string message = $"姓名：{name}，年龄：{age}"; 
// 输出：姓名：Alice，年龄：30
```

---

#### **优势对比**
1. **简洁性**  
   取代传统 `string.Format` 的占位符写法：
   ```csharp
   // 旧写法
   string.Format("姓名：{0}，年龄：{1}", name, age);
   // 新写法
   $"姓名：{name}，年龄：{age}";
   ```

2. **支持表达式**  
   可以直接在 `{ }` 内写表达式或调用方法：
   ```csharp
   $"10年后年龄：{age + 10}"; 
   $"当前时间：{DateTime.Now:yyyy-MM-dd}";
   ```

3. **编译时检查**  
   变量名错误或类型不匹配会在编译时报错，避免运行时问题。

---

#### **格式控制**
可通过冒号 `:` 指定格式：
```csharp
double price = 99.99;
$"价格：{price:C2}"; // 货币格式，保留两位小数 → 价格：¥99.99
$"科学计数：{0.005:E2}"; // → 科学计数：5.00E-003
```

---

#### **高级用法**
- **条件表达式**  
  ```csharp
  $"状态：{(isActive ? "在线" : "离线")}";
  ```
- **原始字符串插值（C# 11+）**  
  允许多行字符串并保留格式：
  ```csharp
  string json = $$"""
    {
      "name": "{{name}}",
      "age": {{age}}
    }
  """;
  ```

---

#### **底层原理**
字符串插值在编译时会转换为 `string.Format` 调用，例如：
```csharp
$"Hello, {name}" → string.Format("Hello, {0}", name);
```

--- 

# 对象的ToString函数
在 C# 中，ToString 是一个用于将对象转换为字符串表示形式的方法。它是所有对象都继承自 System.Object 类的成员方法，因此可以在任何对象上调用。

**ToString 的作用**
- 将对象转换为字符串。
- 默认情况下，返回对象的完全限定类型名称（例如 System.Int32）。
- 可以通过重写 ToString 方法，自定义对象的字符串表示形式。

使用示例
1. 基本类型调用 ToString
```CSharp
    int number = 42;
    string numberString = number.ToString(); // 将整数转换为字符串
    Console.WriteLine(numberString); // 输出: "42"
    double pi = 3.14159;
    string piString = pi.ToString(); // 将浮点数转换为字符串
    Console.WriteLine(piString); // 输出: "3.14159"
``` 
2. 自定义类的 ToString
默认情况下，自定义类的 ToString 方法返回类型名称：
```CSharp
    public class Person
    {
        public string Name { get; set; }
        public int Age { get; set; }
    }
    Person person = new Person { Name = "Alice", Age = 25 };
    Console.WriteLine(person.ToString()); // 输出: "YourNamespace.Person"
```
可以通过重写 ToString 方法，返回更有意义的信息：
```CSharp
    public class Person
    {
        public string Name { get; set; }
        public int Age { get; set; }
    public override string ToString()
        {
            return $"Name: {Name}, Age: {Age}";
        }
    }
    Person person = new Person { Name = "Alice", Age = 25 };
    Console.WriteLine(person.ToString()); // 输出: "Name: Alice, Age: 25"
```

**ToString 的重载**
ToString 方法有多个重载版本，允许指定格式化和区域性信息：
```CSharp
double pi = 3.14159;
string formattedPi = pi.ToString("F2"); // 格式化为两位小数
Console.WriteLine(formattedPi); // 输出: "3.14"
```

**总结**
- ToString 是 C# 中用于将对象转换为字符串的标准方法。
- 默认实现返回对象的类型名称，但可以通过重写自定义输出。
- 支持格式化字符串和区域性设置，适用于数值、日期等类型的格式化输出。

# 字符串中添加变量的方法

